# Maven Commands for Test Execution

## Basic Commands

### Clean the project (removes target directory)
```bash
mvn clean
```

### Compile the project
```bash
mvn compile
```

### Run all tests
```bash
mvn test
```

### Clean and run all tests
```bash
mvn clean test
```

## Running Specific Tests

### Run a specific test class
```bash
mvn -Dtest=ClassName test
```
Example:
```bash
mvn -Dtest=LoginTest test
```

### Run a specific test method
```bash
mvn -Dtest=ClassName#MethodName test
```
Example:
```bash
mvn -Dtest=LoginTest#validLogin test
```

### Run multiple specific test classes
```bash
mvn -Dtest=ClassName1,ClassName2 test
```

### Run tests by pattern
```bash
mvn -Dtest=*Test test
```

## Running Tests with Properties

### Run tests with environment and browser configuration
```bash
mvn -Denv=dev -Dbrowser=chrome test
```

### Run specific test with properties
```bash
mvn -Denv=dev -Dbrowser=chrome -Dtest=LoginTest#validLogin test
```

## Test Groups (if using TestNG groups)

### Run tests by group
```bash
mvn -Dgroups=smoke test
```

### Run tests excluding certain groups
```bash
mvn -DexcludedGroups=negative test
```

## Generating Reports

### Generate Surefire test reports
```bash
mvn surefire-report:report
```

### Generate reports after running tests
```bash
mvn clean test surefire-report:report
```

## Debugging Tests

### Run tests in debug mode
```bash
mvn -Dmaven.surefire.debug test
```

### Run tests with verbose output
```bash
mvn -Dtest=LoginTest -Dsurefire.printSummary=true test
```

## Common Combinations

### Clean, compile, and run specific test
```bash
mvn clean compile -Dtest=LoginTest#validLogin test
```

### Run all tests with properties and generate reports
```bash
mvn clean -Denv=dev -Dbrowser=chrome test surefire-report:report
```

### Run smoke tests only
```bash
mvn -Denv=dev -Dbrowser=chrome -Dgroups=smoke test
```

### Quick Command Reference (TestNG)
```bash
# Run a single test class
mvn -Dtest=tests.LoginTest test

# Run a suite XML (smoke or regression)
mvn -Dsurefire.suiteXmlFiles=testng-smoke.xml test

# Run + auto-generate static HTML
mvn -Dsurefire.suiteXmlFiles=testng-regression.xml verify

# Run + generate + serve (one-liner)
mvn -Dsurefire.suiteXmlFiles=testng-regression.xml test allure:report && \
  cd target/site/allure-maven-plugin && python3 -m http.server 8000
```

#### View Allure Reports
```bash
# Option 1: Live server (auto-opens browser, press Ctrl+C to stop)
mvn allure:serve

# Option 2: Generate static HTML then serve
mvn allure:report
cd target/site/allure-maven-plugin
python3 -m http.server 8000
# Open: http://localhost:8000/index.html
```

### Where Everything Lives
- **Raw Allure JSON results**: `target/allure-results/` (contains `*-result.json`, `*-container.json`, `*-attachment.*`)
- **Static HTML report**: `target/site/allure-maven-plugin/index.html` (generated by `mvn allure:report` or `mvn verify`)
- **Surefire test reports**: `target/surefire-reports/` (XML/TXT summaries)
- **Screenshots (on failure)**: Attached to Allure results as `*-attachment.png` in `target/allure-results/`

### Important Notes
- **Why serve over HTTP?** Opening `index.html` via `file://` in a browser blocks XHR requests (CORS), so the Allure UI can't load JSON → you see "Loading… no report". Serving over HTTP (via Python or Allure CLI) fixes this.
- **Automatic HTML generation**: We bound the Allure plugin to the `verify` phase in `pom.xml`, so running `mvn verify` (instead of `mvn test`) will produce the static HTML automatically.
- **CI/CD**: Use `mvn verify` in CI pipelines to run tests and generate the HTML report in one step; archive `target/site/allure-maven-plugin` as an artifact.

## Notes

- Replace `ClassName` with your actual test class name (without .java extension)
- Replace `MethodName` with your actual test method name
- The `-Denv` and `-Dbrowser` properties are specific to this project's configuration
- Test results are stored in `target/surefire-reports/`
- Screenshots for failed tests are attached to Allure results in `target/allure-results/`
